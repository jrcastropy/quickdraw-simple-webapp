{% extends "index.html" %}
{% block title %}Results{% endblock %}

{% block message %}
<div class="row justify-content-center">
  <div class="alert alert-success ml-5 col-10" role="alert">
      <h4 class="alert-heading" align="center" id="result-heading" ></h4>
  </div>
</div>
<div class="row">
        <div class ="col-3">
        </div>
        <div class ="col-6 text-center">
          <img id="canvasimg" style="display:none;">
        </div>
        <div class ="col-3">
        </div>
</div>
<div class="row justify-content-center mt-2">
     <!-- Button to navigate back-->
     <div class ="col-3">
       <button type="button" class="btn btn-primary btn-lg btn-block" onClick="location.href='../'">Back to main page</button>
     </div>
</div>
  {% endblock %}

{% block body %}

<script type="text/javascript">
  // render drawn image
  dataUrl = "data:image/png;base64," + '{{dataURL}}'
  document.getElementById("canvasimg").style.border = "2px solid";
  document.getElementById("canvasimg").src = dataUrl;
  document.getElementById("canvasimg").style.display = "inline";
</script>

<script type="text/javascript">
  // hide canvas
  var x = document.getElementById("can");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }

  // hide div with buttons
  var x = document.getElementById("buttons");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }
</script>

<script>
  let text = "{{ result|join(', ')}}"
  let letter = text.charAt(0);
  const vowels = ['a', 'e', 'i', 'o', 'u'];
  let reshead;

  if (vowels.includes(letter)) {
    reshead = `Is this either an ${text}`
  }
  else {
    reshead = `Is this either a ${text}`
  }
  var x = document.getElementById("result-heading");
  x.textContent=reshead;
  
</script>
{% endblock %}
